<!DOCTYPE html>
<html>
<head>
    <title>Image Processing</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>

<div class="container mt-5">
    <h1 class="text-center">Image Processing Results</h1>
    <form action="/upload" method="post" enctype="multipart/form-data" class="mt-4">
        <div class="mb-3">
            <input type="file" class="form-control" name="file" required>
        </div>
        <div class="mb-3">
            <input type="number" class="form-control" placeholder="灰度级" id="gray_levels" name="gray_levels" required>
        </div>
        <div class="mb-3">
            <input type="number" class="form-control" placeholder="分辨率" id="resolution" name="resolution" required>
        </div>
        <div class="mb-3">
            <select class="form-control" id="distance_metric" name="distance_metric">
                <option value="l1">L1</option>
                <option value="l2">L2</option>
            </select>
        </div>
        <button type="submit" class="btn btn-primary">上传</button>
    </form>
</div>

{% if original %}
<div class="container mt-5">
    <div class="row">
        <div class="col-md-3">
            <div class="card">
                <div class="card-header">
                    Original
                </div>
                <div class="card-body">
                    <img src="{{ url_for('static', filename=original) }}" alt="Original Image" class="img-fluid">
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card">
                <div class="card-header">
                    Resolution ({{ resolution_percent }}%)
                </div>
                <div class="card-body">
                    <img src="{{ url_for('static', filename=resolution) }}" alt="Resolution Image" class="img-fluid">
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card">
                <div class="card-header">
                    Gray ({{ gray_levels }} Levels)
                </div>
                <div class="card-body">
                    <img src="{{ url_for('static', filename=gray) }}" alt="Gray Image" class="img-fluid">
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card">
                <div class="card-header">
                    Edges ({{ distance_metric }} Metric)
                </div>
                <div class="card-body">
                    <img src="{{ url_for('static', filename=edges) }}" alt="Edges Image" class="img-fluid">
                </div>
            </div>
        </div>
    </div>
</div>
{% endif %}


</body>
</html>

